<div class="panel panel-primary">
    <div class="panel-heading">Artigos</div>
    <div class="panel-body">
        <div class="row hidden-xs">
            <table id="tabelaArtigos"
                   datatable="ng" dt-disable-deep-watchers="true"
                   dt-multifiltering="multifiltering" class="table table-bordered table-striped table-responsive table-hover table-condensed">
                <thead>
                <tr>
                    <th style="width: 60px;">Código</th>
                    <th>Título</th>
                    <th style="width: 120px;">Categoria</th>
                    <th style="width: 120px;">Visibilidade</th>
                    <th style="width: 40px;">Ativo?</th>
                    <th class="sorting_disabled" style="width: 60px;"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="m in ctrl.listaArtigos track by m.codigo">
                    <td>
                        <input type="hidden" value="{{('0000000000'+m.codigo).slice(-10)}}"/>
                        <a title="Editar Artigo"
                           ng-href="#/Edit/{{m.codigo}}">{{m.codigo}}</a>
                    </td>
                    <td>
                        <a title="Editar Artigo"
                           ng-href="#/Edit/{{m.codigo}}">{{m.titulo}}</a>
                    </td>
                    <td>{{m.categoria.nome}}</td>
                    <td>{{m.visibilidade.nomeExibicao}}</td>
                    <td>
                        <input type="hidden" ng-value="!m.ativo"/>
                        <span class="label label-success" ng-if="m.ativo">Sim</span>
                        <span class="label label-danger" ng-if="!m.ativo">Não</span>
                    </td>

                    <td style="padding: 4px;">
                        <a class="btn btn-info btn-xs" title="Editar {{ m.titulo }}"
                           ng-if="m.ativo"
                           href="#/Edit/{{m.codigo}}">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                        <a class="btn btn-default btn-xs" title="Visualizar {{ m.titulo }}"
                           ng-if="!m.ativo"
                           href="#/Edit/{{m.codigo}}">
                            <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                        </a>
                        <button type="button" class="btn btn-success btn-xs" title="Ativar {{ m.titulo }}"
                                acerva-confirm
                                ng-if="!m.ativo"
                                confirm-action="ctrl.ativa(m)"
                                confirm-window-type="success"
                                confirm-text="Confirma a ativação do artigo {{ m.titulo }}?">
                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" title="Inativar {{ m.titulo }}"
                                acerva-confirm
                                ng-if="m.ativo"
                                confirm-action="ctrl.inativa(m)"
                                confirm-window-type="danger"
                                confirm-text="Confirma a inativação do artigo {{ m.titulo }}?">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="row visible-xs">
            <table class="table table-bordered table-striped table-responsive table-hover table-condensed visible-xs" style="width: 100%;">
                <thead>
                <tr>
                    <th>Artigo</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="m in ctrl.listaArtigos track by m.codigo" style="margin-bottom: 5px;">
                    <td>
                        <strong>
                            <a title="Editar artigo"
                               ng-href="#/Edit/{{m.codigo}}"><i>{{m.categoria.nome}}</i>: {{m.titulo}}</a>
                        </strong>
                        <span>
                            <span class="label label-success pull-right" ng-if="m.ativo">ativo</span>
                            <span class="label label-danger pull-right" ng-if="!m.ativo">inativo</span>
                        </span>
                        <br />
                        <a class="btn btn-info btn-xs" title="Editar {{ m.titulo }}"
                           ng-if="m.ativo"
                           href="#/Edit/{{m.codigo}}">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                        <a class="btn btn-default btn-xs" title="Visualizar {{ m.titulo }}"
                           ng-if="!m.ativo"
                           href="#/Edit/{{m.codigo}}">
                            <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                        </a>
                        <button type="button" class="btn btn-success btn-xs" title="Ativar {{ m.titulo }}"
                                acerva-confirm
                                ng-if="!m.ativo"
                                confirm-action="ctrl.ativa(m)"
                                confirm-window-type="success"
                                confirm-text="Confirma a ativação do artigo {{ m.titulo }}?">
                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" title="Inativar {{ m.titulo }}"
                                acerva-confirm
                                ng-if="m.ativo"
                                confirm-action="ctrl.inativa(m)"
                                confirm-window-type="danger"
                                confirm-text="Confirma a inativação do artigo {{ m.titulo }}?">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="panel-footer">
        <div class="row">
            <div class="col-sm-12">
                <div class="pull-right">
                    <a class="btn btn-primary" href="#/Create">Novo artigo</a>
                </div>
            </div>
        </div>
    </div>
</div>